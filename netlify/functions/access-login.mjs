import { ok,bad,forward,getBody } from './_utils.mjs';export async function handler(e){const {communityId,password}=getBody(e);if(!communityId||!password)return bad('communityId and password required');if(process.env.DEMO_MODE==='true')return ok({ok:true,communityId,demo:true});const u=process.env.WEBHOOK_URL_ACCESS_LOGIN;if(!u)return bad('WEBHOOK_URL_ACCESS_LOGIN not set',500);const o=await forward(u,{communityId,password,ip:e.headers['x-nf-client-connection-ip']});return {statusCode:o.statusCode,body:o.body}}